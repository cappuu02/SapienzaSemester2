# Introduction
- A software is made of several ‘components’
-  The interaction among components can be either **synchronous** or **asynchronous**
-  Interacting components can run on the **same CPU** or on **different CPUs**
- A component can be **stateless** or **stateful**

If components run on different CPU they
1. can make progress in parallel (true)
2. can only interact via messages (no shared memory)
3. Do not have a global clock
Then the system is distributed (network can be Partitioned, component can become not Available, data can be not Consistent CAP theorem applies)

![[M10.png]]

Any component needs some surrounding support, both hardware or software, in order to run.
Nevertheless, for now focus on components:
![[M11.png]]

# BASIC INTERACTION PATTERNS AMONG SW COMPONENTS
Short review of the basic interaction patterns (ways) among components in abstract way and providing some technological mapping. We assume no failures. Interaction patterns:

## REQUEST/RESPONSE
The most common pattern, is synchronous: the caller makes a request and the waits for response.

![[M12.png]]

```ad-example
title: Example: some more implementation details
![[M13.png]]

```

## ONE-WAY MESSAGE (FIRE AND FORGET)
Component sends an asynchronous message (to a queue or intermediary) without waiting for response. (Android: app sends logs or sensor readings to a remote queue without waiting for the reply, e.g. elaboration)

![[M14.png]]![[M15.png]]

## PUBLISH/SUBSCRIBE
Publisher sends events to a broker on a specific topic
Subscribers receive notifications without direct knowledge of publisher
(Example: Android: push information on topics (e.g., weather alerts) using firebase)

![[M16.png]]

![[M17.png]]

## EVENT NOTIFICATION
Passive component that reacts only to events (sometimes called event-handler). Foundation of event-driven programming, The component is dormant until the event occurs. (Needs for a surrounding software).

![[M18.png]]

```ad-example
title: Example of Component in Android
An ==Activity== is a fundamental software component in any Android application that reacts to events, either generated by the Android framework or by other components. 

Each Activity responds to a set of predefined events (inherited from its base class) by implementing ==callback methods== ( onCreate(),onResume()…).

In addition, it registers itself with a system manager and declares which system-wide events it can handle. These events are communicated through special messages
called ==Intents==.

![[M19.png|350]]

```

```ad-example
title: EXAMPLE: ACTIVITY LIFECYCLE
- A managed component in general has a state and reacts differently based on the current state
- The state may change when an event occurs
- The state diagram describes the lifecycle of the component


![[M20.png|400]]

```

```ad-example
title: EXAMPLE: INTENETS IN ANDROID
![[M21.png]]

```

# INTENT: BASE CASE
 1. $A$ Creates the intent and calls startActivity with a reference to $B$
2. The ‘android system’ checks if such an Activity is installed
3. The ‘android system’ calls the $B$’s onCreate method

![[M22.png|400]]

```ad-example
title: EXAMPLE: VIEW UPDATES
![[M23.png|400]]
![[M24.png|400]]

```

# COMPUTATIONAL GRAPH
Basic interaction patterns can be composed into computational graphs.
Nodes = components
Edges = interactions
Graph types:
- Linear pipeline
- Hub
- DAG (with branches and joins)

![[M25.png]]

```ad-example
title: Example of linear computational graph
![[M26.png]]

```

```ad-example
title: EXAMPLE: MODEL-VIEW-VIEWMODEL (MVVM)
This is a pattern suggested to organize the software of an android app, which is based on a pub/sub interaction pattern.

![[M27.png]]
```

```ad-example
title: Example of Hub
![[M28.png]]

```

This is a general graph:
![[M29.png|500]]

**Some Terminology**
- Cloud-native applications: applications where the computational graph run enterally on cloud and are made of small loosely coupled components that can easily scale
-  Cloud Backend services: components that run o cloud as support to applications running elsewhere (mobile Backend as a Service (mBaaS))
- Lift & shift: An application that usually runs on-premises and it is moved almost unchanged to run on a cloud

```ad-example
![[M30.png]]

```
